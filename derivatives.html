<!DOCTYPE = html>
<html>
    <!--Webpage title goes here-->
    <head>
        <!--Allows for formatting-->
        <link href="style.css" rel="stylesheet">
        <title>Math Study Page-Derivatives Practice</title>
        <h1>Math Study Page-Derivatives Practice</h1>
    </head>
    <header>
        <nav class = "navigation">
            <h2>Other Subjects</h2>
            <a href = "./index.html">Home</a>
            <a>Math Studying</a>
            <a href = "./spanish.html">Spanish Studying</a>
        </nav>
    </header>
    <!--Main page information goes here-->
    <body>
        <nav class = "math_navigation">
            <h2>Math Topics:</h2>
            <a href = "./math.html">Math Home</a>
            <a>Derivatives Practice</a>
            <a href = "./integration.html">Integration Practice</a>
        </nav>
        <form class = "study" id = "math_question">
            <!--Adds a label that displays a question-->
            <label class = "question" id = "ask"></label>
            <!--Creates an input called math that only accepts numbers-->
            <input id="math" class = "answer">
            <!--Creates button that calls checkAnswer when clicked-->
            <input type = "button" value = "Check Answer" onclick = "checkAnswer()" class = "verify"><span id = "verify"></span>
        </form>
        <!--Runs javascript function that checks if answer is correct-->
        <script>
            //Declare variables for question
            let a
            let n
            let t
            var derivativeQuestion
            var derivativeAnswer
            let QuestionNumber
            //Formats question and answer
            document.getElementById('ask').style.color = "white"
            document.getElementById('ask').style.fontFamily = "sans-serif"
            document.getElementById('verify').style.display = "block"
            document.getElementById('verify').style.textAlign = "center"
            //Declare variables that tell how many answers are correct
            let correct = 0
            let numAsked = 0
            let percentCorrect = 0
            //Calls reset function to set up question
            reset()

            function reset() {
                //Chooses random values for question
                a = Math.floor((Math.random()*5)+1)
                n = Math.floor((Math.random()*5)+1)
                t = Math.floor((Math.random()*5)+1)
                //List of question types
                derivativeQuestion = [`f(x)=${a}x<sup>${n}</sup>`, `(${a}x<sup>${n}</sup>)<sup>${t}</sup>`]
                //List of question answers
                derivativeAnswer = [(a * n) + 'x^' + (n - 1), `${a*n*t}x^${n-1}(${a}x^${n})^${t-1}`]
                displayAnswer = [`${(a * n)}x<sup>${(n - 1)}</sup>`, `${a*n*t}x<sup>${n-1}</sup>(${a}x<sup>${n}</sup>)<sup>${t-1}</sup>`]
                QuestionNumber = Math.floor(Math.random()*derivativeQuestion.length)
                //Prints question with randomly-generated values (<sup> tag displays an exponent)
                document.getElementById('ask').innerHTML = `What is the derivative of the function ${derivativeQuestion[QuestionNumber]}? Type any exponents in the form x^n.`
                //Prints the answer the user's inputs is being checked against to the console
                console.log(`The answer for this question is ${derivativeAnswer[QuestionNumber]}`)
                //Clears input space
                document.getElementById('math_question').reset()
            }

            function checkAnswer() {
                //Gets the user inputs for math1, math2, and math3
                var answer = document.getElementById("math")
                //Formatting (uses same elements as CSS)
                document.getElementById('verify').style.color = "white"
                document.getElementById('verify').style.fontFamily = "sans-serif"
                //Checks if inputs are correct
                if (answer.value == derivativeAnswer[QuestionNumber]) {
                    //Increases number correct by 1
                    correct ++
                    //Increases total questions asked by 1
                    numAsked ++
                    //Updates score
                    percentCorrect = Math.floor((correct/numAsked)*100)
                    //Tells user that answer is correct
                    document.getElementById('verify').innerHTML = `Correct! Your score is ${percentCorrect}%.`
                } else {
                    //Increases total questions asked by 1
                    numAsked ++
                    //Updates score
                    percentCorrect = Math.floor((correct/numAsked)*100)
                    //Tells user that answer is incorrect
                    document.getElementById('verify').innerHTML = `Incorrect. The correct answer is ${displayAnswer[QuestionNumber]}</sup>. Your answer was ${answer.value}. Your score is ${percentCorrect}%.`
                }
                //Resets question
                reset()
            }
        </script>
    </body>
</html>